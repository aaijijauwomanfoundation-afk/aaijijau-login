<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Dashboard</title>

<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqdG1xdXRicW9kaWNqdXBnc3huIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNTk1NjYsImV4cCI6MjA3OTkzNTU2Nn0.NSm0ACU5YFc78e8Ck0PvCNLFaido3noRkJC_7vRMrrU",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqdG1xdXRicW9kaWNqdXBnc3huIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDM1OTU2NiwiZXhwIjoyMDc5OTM1NTY2fQ.8RXY7u4gZyD3MIP7iN1bwwDkSqw15aD2jlQskfi5AS4"
);

async function protectPage() {
  const { data } = await supabase.auth.getSession();
  if (!data.session) {
    alert("Please login first тЭЧ");
    window.location.href = "index.html";
  }
}
protectPage();

async function logoutUser() {
  await supabase.auth.signOut();
  localStorage.clear();
  window.location.href = "index.html";
}
window.logoutUser = logoutUser;
</script>
</head>

<body style="background:#0a192f; color:white; font-family:poppins;">

<div style="display:flex; justify-content:space-between; padding:15px;">
  <h3>ЁЯМ║ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ, рдЖрдкрд▓рд╛ рдбреЕрд╢рдмреЛрд░реНрдб</h3>
  <button onclick="logoutUser()" 
    style="background:red; padding:10px 20px; border:none; color:white; border-radius:8px;">
    Logout
  </button>
</div>

<div style="background:#112240; padding:20px; border-radius:12px; margin:15px;">
  <h2>ЁЯУК NGO рдорд╛рд╣рд┐рддреА</h2>
  <p>рдореЛрдмрд╛рдИрд▓: Active тЬЕ</p>
  <p>Status: Verified тЬФ</p>
</div>

<div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; padding:15px;">
  <div style="background:#233554; padding:15px; border-radius:12px;">ЁЯТ░ CSR Funding</div>
  <div style="background:#233554; padding:15px; border-radius:12px;">ЁЯУД Reports</div>
  <div style="background:#233554; padding:15px; border-radius:12px;">ЁЯСй Beneficiaries</div>
  <div style="background:#233554; padding:15px; border-radius:12px;">тЪЩ Settings</div>
</div>

</body>
</html>
